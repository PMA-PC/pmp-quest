<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PMP Quest - 30-Day Gamified Training</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: system-ui, sans-serif; }
    .badge { @apply inline-block px-3 py-1 text-xs font-bold rounded-full mr-2 mt-1; }
    .quiz-option { @apply w-full text-left p-4 rounded-xl border-2 transition-all cursor-pointer; }
    .quiz-option.selected { @apply border-blue-500 bg-blue-500/20; }
    .quiz-option.correct { @apply border-green-500 bg-green-500/20; }
    .quiz-option.incorrect { @apply border-red-500 bg-red-500/20; }
    .progress-bar { @apply w-full bg-gray-700 rounded-full h-3; }
    .progress-fill { @apply h-3 rounded-full transition-all; }
    .day-card { @apply aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all relative; }
    .day-completed { @apply bg-green-500 hover:scale-110; }
    .day-current { @apply bg-blue-500 animate-pulse scale-110 ring-4 ring-blue-300; }
    .day-available { @apply bg-white/20 hover:bg-white/30 hover:scale-105; }
    .day-locked { @apply bg-gray-700 opacity-50 cursor-not-allowed; }
    .boss-day { @apply ring-4 ring-red-500; }
    .critical-day { @apply ring-2 ring-orange-500; }
  </style>
</head>
<body class="bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 text-white p-6">
  <div class="max-w-7xl mx-auto">

    <!-- Header -->
    <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-8">
      <div class="flex flex-wrap justify-between items-center gap-4">
        <div>
          <h1 class="text-4xl font-bold mb-2">üéØ PMP Quest</h1>
          <p class="text-white/70">30-Day Gamified Training Journey</p>
        </div>
        <div class="flex gap-6">
          <div class="text-center">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-2xl font-bold">Level <span id="level">1</span></span>
            </div>
            <div class="w-48 bg-gray-700 rounded-full h-3">
              <div id="xp-progress" class="bg-gradient-to-r from-yellow-500 to-orange-500 h-3 rounded-full" style="width: 0%"></div>
            </div>
            <p class="text-xs text-white/70 mt-1"><span id="xp">0</span> / <span id="next-level-xp">1000</span> XP</p>
          </div>
          <div class="text-center">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-2xl font-bold"><span id="streak">0</span></span>
            </div>
            <p class="text-xs text-white/70">Day Streak</p>
          </div>
          <div class="text-center">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-2xl font-bold"><span id="badges-count">0</span></span>
            </div>
            <p class="text-xs text-white/70">Badges</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="space-y-8">
      <!-- Day Card (Dynamically populated) -->
      <div id="day-card" class="rounded-2xl p-8 shadow-2xl">
        <!-- Will be filled by JS -->
      </div>

      <!-- Journey Map -->
      <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6">
        <h3 class="text-2xl font-bold mb-6 flex items-center gap-2">30-Day Journey Map</h3>
        <div id="journey-map" class="grid grid-cols-5 sm:grid-cols-10 gap-3"></div>
      </div>
    </div>

    <!-- Quiz Modal -->
    <div id="quiz-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 hidden">
      <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto">
        <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-6">
          <div class="w-full bg-gray-700 rounded-full h-2">
            <div id="quiz-progress" class="bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all" style="width: 0%"></div>
          </div>
        </div>

        <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-6">
          <h3 id="quiz-question-text" class="text-2xl font-bold mb-6">Question loading...</h3>
          <div id="options" class="space-y-3"></div>
          <div id="explanation-box" class="mt-6 space-y-4 hidden">
            <div id="result-box" class="border rounded-lg p-4">
              <p id="explanation-text" class="text-sm"></p>
            </div>
          </div>
        </div>

        <button id="submit-btn" class="flex-1 bg-gradient-to-r from-blue-600 to-purple-600 py-4 rounded-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 transition-transform">
          Submit Answer
        </button>
      </div>
    </div>

  </div>

  <script>
    // ========== DAY 1 FULL CONTENT FROM YOUR FILE ==========
    const day1Content = `
      <div class="max-w-5xl mx-auto">
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl p-8 mb-6 shadow-xl">
          <h1 class="text-4xl font-bold mb-2">Day 1: Conflict Resolution & Leadership</h1>
          <p class="text-xl">People Domain (42% of Exam) ‚Ä¢ 8-10 Questions</p>
          <div class="mt-4 bg-white/20 rounded-lg p-4">
            <p class="font-bold">üéØ EXAM WEIGHT: This lesson covers 8-10 questions on your exam</p>
            <p class="text-sm">Master this completely = Guaranteed 8-10 points!</p>
          </div>
        </div>
        <div class="bg-white rounded-xl p-8 shadow-lg mb-6 lesson-content">
          <div class="bg-yellow-100 border-l-4 border-yellow-500 p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-3">üìö Learning Objectives</h2>
            <p class="text-gray-800">By the end of this lesson, you will be able to:</p>
            <ul class="list-disc ml-6 text-gray-800 mt-2">
              <li>Identify and apply all 5 conflict resolution methods in exam scenarios</li>
              <li>Recognize team development stages and appropriate PM actions for each</li>
              <li>Apply Servant Leadership principles to situational questions</li>
              <li>Score 90%+ on conflict and leadership questions</li>
            </ul>
          </div>
          <h2 class="text-3xl font-bold text-gray-800 mb-6">Part 1: The 5 Conflict Resolution Methods</h2>
          <div class="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3">Why This Matters for the Exam</h3>
            <p class="text-gray-800">Conflict resolution appears in 8-10 questions on EVERY PMP exam. PMI has a specific preference order for these methods. Knowing this order is the difference between passing and failing conflict questions.</p>
            <p class="text-gray-800 font-bold mt-3">PMI's Preference Order (Best to Worst):</p>
            <p class="text-gray-800">Collaborate > Compromise > Smooth > Force > Withdraw</p>
          </div>
          <h3 class="text-gray-800">Method 1: COLLABORATE / PROBLEM SOLVE (Win-Win) ‚≠ê BEST</h3>
          <p class="text-gray-700">Collaborate means both parties work together to create a COMPLETELY NEW SOLUTION that fully satisfies both sides...</p>
        </div>
      </div>
    `;

    // ========== STATE ==========
    let currentDay = 1;
    let xp = 0;
    let level = 1;
    let completedDays = [];

    // ========== SAVE/LOAD ==========
    function loadState() {
      const saved = localStorage.getItem('pmpQuestState');
      if (saved) {
        const state = JSON.parse(saved);
        currentDay = state.currentDay || 1;
        xp = state.xp || 0;
        level = state.level || 1;
        completedDays = state.completedDays || [];
      }
    }

    function saveState() {
      const state = { currentDay, xp, level, completedDays };
      localStorage.setItem('pmpQuestState', JSON.stringify(state));
    }

    // ========== EVENT BINDING ==========
    function bindEvents() {
      document.getElementById('start-quiz-btn')?.addEventListener('click', () => {
        // For Day 1: Just mark complete and show full lesson
        if (!completedDays.includes(1)) {
          completedDays.push(1);
          xp += 150;
          saveState();
          alert('üéâ Day 1 marked complete! 150 XP earned!');
        }
        // Show full Day 1 lesson in a new tab or replace content
        document.getElementById('main-content').innerHTML = day1Content;
        document.querySelector('h1').innerHTML += ' <button onclick="window.location.reload()" class="ml-4 text-sm bg-white text-purple-900 px-3 py-1 rounded">‚Üê Back to Tracker</button>';
      });
    }

    // ========== INIT ==========
    function init() {
      loadState();
      document.getElementById('xp').textContent = xp;
      document.getElementById('level').textContent = level;
      document.getElementById('next-level-xp').textContent = level * 1000;
      document.getElementById('xp-progress').style.width = `${(xp % 1000) / 10}%`;
      
      // Render Day 1 card
      document.getElementById('day-card').innerHTML = `
        <div class="flex justify-between items-start mb-4">
          <div>
            <div class="text-sm font-bold text-white/80 mb-1">DAY 1 ‚Ä¢ PEOPLE DOMAIN</div>
            <h2 class="text-3xl font-bold mb-2">Conflict Resolution & Leadership</h2>
            <div class="text-white/90 mb-4">‚≠ê‚≠ê</div>
          </div>
          <div class="text-right">
            <div class="text-sm text-white/80">Reward</div>
            <div class="text-2xl font-bold">+150 XP</div>
          </div>
        </div>
        <div class="mt-8">
          <button id="start-quiz-btn" class="flex-1 bg-white text-purple-900 py-4 rounded-xl font-bold text-lg hover:scale-105 transition-transform shadow-lg">
            üéÆ Start Learning Quest
          </button>
        </div>
      `;
      
      // Bind events AFTER content is rendered
      setTimeout(bindEvents, 100);
    }

    // Start app
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>
